<div class="oui-input-group oui-input-group_button">
    <input class="oui-password__input oui-input"
        aria-describedby="{{::$ctrl.id}}Rules"
        ng-attr-id="{{::$ctrl.id}}"
        ng-attr-name="{{::$ctrl.name}}"
        ng-attr-type="{{$ctrl.isVisible ? 'text' : 'password'}}"
        ng-attr-placeholder="{{::$ctrl.placeholder}}"
        ng-change="$ctrl.onChange({ modelValue: $ctrl.model })"
        ng-model="$ctrl.model"
        ng-pattern="::$ctrl.pattern"
        ng-disabled="$ctrl.disabled"
        ng-maxlength="{{::$ctrl.maxlength}}"
        ng-minlength="{{::$ctrl.minlength}}"
        ng-required="$ctrl.required"
        ng-blur="$ctrl.focused = false"
        ng-focus="$ctrl.focused = true">

    <!-- Visibility Buttons -->
    <button class="oui-password__visibility oui-button" type="button"
        ng-attr-aria-label="{{$ctrl.isVisible ? $ctrl.ariaHidePasswordLabel : $ctrl.ariaShowPasswordLabel}}"
        ng-click="$ctrl.toggleVisibility()"
        ng-disabled="$ctrl.disabled">
        <span class="oui-icon"
            ng-class="{
                'oui-icon-eye': !$ctrl.isVisible,
                'oui-icon-eye-blocked': $ctrl.isVisible
            }">
        </span>
    </button>
    <!-- /Visibility Buttons -->

</div>

<!-- Strength Meter -->
<div class="oui-password__strength" aria-live="polite"
    ng-show="$ctrl.focused"
    ng-transclude="strengthSlot">
</div>
<!-- /Strength Meter -->

<!-- Validation Rules -->
<div class="oui-password__rules" id="{{::$ctrl.id}}Rules"
    ng-show="$ctrl.focused && !$ctrl.valid"
    ng-transclude="ruleSlot">
</div>
<!-- /Validation Rules -->

<!-- Validation Success -->
<div class="oui-password__success oui-password-rule"
    aria-live="polite"
    ng-show="$ctrl.focused && $ctrl.valid">
    <span class="oui-icon oui-icon-success" aria-hidden="true"></span>
    <span ng-bind="::$ctrl.translations.allRulesValidLabel"></span>
</div>
<!-- /Validation Success -->
