<oui-dropdown align="{{::$ctrl.align}}" arrow persistent>
    <button type="button" class="oui-button oui-button_secondary oui-button_icon-only oui-button_small-width"
        oui-dropdown-trigger>
        <span class="oui-icon oui-icon-filter" aria-hidden="true"></span>
        <span class="oui-icon oui-icon-filter oui-icon-filter_bicolor" aria-hidden="true"></span>
    </button>
    <oui-dropdown-content>
        <form name="{{::$ctrl.name}}" novalidate
            ng-attr-id="{{::$ctrl.id}}"
            ng-submit="$ctrl.onFormSubmit(this[$ctrl.name])">

            <!-- Column field -->
            <oui-field label="{{::$ctrl.translations.column_label}}">
                <oui-select
                    ng-attr-id="{{::$ctrl.id}}Column"
                    name="{{::$ctrl.name}}Column"
                    model="$ctrl.columnModel"
                    items="$ctrl.properties"
                    required
                    match="title"
                    on-change="$ctrl.onColumnChange()">
                    <span ng-bind="$item.title"></span>
                </oui-select>
            </oui-field>
            <!-- /Column field -->

            <!-- Operator field -->
            <oui-field label="{{::$ctrl.translations.operator_label}}">
                <oui-select
                    ng-attr-id="{{::$ctrl.id}}Operator"
                    name="{{::$ctrl.name}}Operator"
                    model="$ctrl.operatorModel"
                    items="$ctrl.selectableOperators"
                    required
                    match="title">
                    <span ng-bind="$item.title"></span>
                </oui-select>
            </oui-field>
            <!-- /Operator field -->

            <!-- Value field -->
            <div ng-switch="$ctrl.columnModel.type">

                <!-- String (Default) -->
                <div ng-switch-default>
                    <oui-field label="{{::$ctrl.translations.value_label}}">
                        <input class="oui-input" type="text" name="{{::$ctrl.name}}Value"
                            ng-attr-id="{{::$ctrl.id}}Value"
                            ng-model="$ctrl.valueModel['string']" required>
                    </oui-field>
                </div>
                <!-- /String (Default) -->

                <!-- Number -->
                <div ng-switch-when="number">
                    <oui-field label="{{::$ctrl.translations.value_label}}">
                        <input class="oui-input" type="number" name="{{::$ctrl.name}}Value"
                            ng-attr-id="{{::$ctrl.id}}Value"
                            ng-model="$ctrl.valueModel['number']" required>
                    </oui-field>
                </div>
                <!-- /Number -->

            </div>
            <!-- /Value field -->

            <button class="oui-button oui-button_primary oui-button_full-width" type="submit"
                ng-bind="::$ctrl.translations.submit_label">
            </button>
        </form>
    </oui-dropdown-content>
</oui-dropdown>
