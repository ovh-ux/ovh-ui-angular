<div class="oui-datagrid-panel">
  <table class="oui-datagrid oui-datagrid_responsive">
    <thead class="oui-datagrid__headers">
      <tr class="oui-datagrid__row">
        <th ng-if="tableCtrl.isSelectable()"
          class="oui-datagrid__header oui-datagrid__header_selector">
          <input ng-if="!tableCtrl.compiledSelectorTemplate"
            name="allSelected"
            type="checkbox"
            ng-model="tableCtrl.allSelected"
            ng-change="tableCtrl.allSelectedChange()">
          <oui-table-selector
            ng-if="tableCtrl.compiledSelectorTemplate"
            name="allSelected"
            value="tableCtrl.allSelected"
            on-change="tableCtrl.allSelectedChange()"
            compiled-template="tableCtrl.compiledSelectorTemplate"></oui-table-selector>
        </th>
        <th class="oui-datagrid__header"
          ng-class="tableCtrl.getSortableClasses(column)"
          ng-repeat="column in tableCtrl.columns track by $index"
          ng-click="tableCtrl.sort(column)"
          ng-bind="::column.title"></th>
      </tr>
    </thead>
    <tbody class="oui-datagrid__body"
      ng-hide="tableCtrl.loading">
      <tr class="oui-datagrid__row"
        ng-class="[ tableCtrl.getClosedClass($index) ]"
        ng-init="rowIndex = $index"
        ng-repeat="row in tableCtrl.displayedRows track by $index"ng-click="tableCtrl.rowClick(row, $event)"
        ng-keydown="tableCtrl.rowKeyDown(row, $event)"
        row-clickable="tableCtrl.canClickOnRow"
        row-label="tableCtrl.getRowLabel(row)">
        <td ng-if="tableCtrl.isSelectable()"
          class="oui-datagrid__cell oui-datagrid__cell_selector">
          <input ng-if="!tableCtrl.config.selectorTemplate"
            type="checkbox"
            ng-model="tableCtrl.selection[$index]"
            ng-change="tableCtrl.selectionChange()">
          <oui-table-selector
            ng-if="tableCtrl.compiledSelectorTemplate"
            name="selection_{{$index}}"
            value="tableCtrl.selection[$index]"
            on-change="tableCtrl.selectionChange()"
            compiled-template="tableCtrl.compiledSelectorTemplate"></oui-table-selector>
        </td>
        <td class="oui-datagrid__cell"
            ng-class="column.class"
            ng-if="!column.name || tableCtrl.hasProperty(row, column.name)"
            ng-repeat-start="column in tableCtrl.columns track by $index"
            data-title="{{::column.title}}">
          <span ng-if="!column.template" ng-bind="column.getValue(row)"></span>
          <oui-table-cell ng-if="column.template" row="row" column="column"></oui-table-cell>
        </td>
        <td ng-repeat-end
            class="oui-datagrid__cell oui-skeleton"
            ng-if="column.name && !tableCtrl.hasProperty(row, column.name)">
          <div class="oui-skeleton__loader"></div>
        </td>
      </tr>
    </tbody>
    <tbody class="oui-datagrid__body"
      ng-show="tableCtrl.loading">
      <tr class="oui-datagrid__row"
        ng-repeat="row in tableCtrl.getPageRepeatRange() track by $index">
        <td class="oui-datagrid__cell oui-skeleton"
          ng-repeat="row in tableCtrl.getRepeatRange(tableCtrl.columns.length) track by $index">
          <div class="oui-skeleton__loader"></div>
        </td>
      </tr>
    </tbody>
  </table>
  <oui-table-pagination
    ng-hide="tableCtrl.loading"
    ng-if="tableCtrl.paginationTemplate"
    template="tableCtrl.paginationTemplate"
    table="tableCtrl"
    class="oui-datagrid-panel__pagination oui-datagrid-panel__pagination_bottom">
  </oui-table-pagination>
  <div
    ng-hide="tableCtrl.loading"
    ng-if="!tableCtrl.paginationTemplate"
    class="oui-datagrid-panel__pagination oui-datagrid-panel__pagination_bottom">
    <oui-table-default-pagination
      page-size="tableCtrl.getPageSize()"
      current-page="tableCtrl.getCurrentPage()"
      page-count="tableCtrl.getPageCount()"
      total-items="tableCtrl.getTotalCount()"
      on-next-page="tableCtrl.nextPage()"
      on-previous-page="tableCtrl.previousPage()"
      on-page="tableCtrl.goToPage($page)"
      on-page-size-change="tableCtrl.setPageSize($pageSize)"></oui-table-default-pagination>
  </div>
</div>
